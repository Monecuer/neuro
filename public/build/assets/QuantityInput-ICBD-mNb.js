import{j as a,r as c}from"./app-J0J4XT7Q.js";import{A as f}from"./Add-B7dNfvFo.js";import{c as j}from"./createSvgIcon-DH-b1jMs.js";import{u as _}from"./SalesContext-B1jwJFA9.js";import{I as l}from"./IconButton-CxCxJBhO.js";import"./app-CxSMgHDY.js";import"./clsx-B-dksMZM.js";import"./memoTheme-BNdxtxoW.js";import"./index-BPJnJB5S.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./useId-bmtMxKKl.js";import"./ButtonBase-ah7Qb79a.js";import"./useTimeout-ijO9WPjY.js";import"./TransitionGroupContext-CUmnvxwJ.js";import"./emotion-react.browser.esm-BQ7e9N_g.js";import"./useForkRef-npmdbavI.js";import"./CircularProgress-Bcsy1Pin.js";const v=j(a.jsx("path",{d:"M19 13H5v-2h14z"})),P=({cartItem:t})=>{const{cartState:m,updateProductQuantity:s}=_(),[e,u]=c.useState(t.quantity),[x,o]=c.useState(t.quantity),i=0,r=9999;c.useEffect(()=>{u(t.quantity),o(t.quantity)},[m]);const h=n=>{const d=parseFloat(n.target.value);if(isNaN(d))o(i),s(t.id,t.batch_number,i,t.cart_index);else{const p=Math.max(i,Math.min(d,r));u(p),o(p),s(t.id,t.batch_number,p,t.cart_index)}},y=()=>{const n=Math.max(parseFloat(e)-1,i);u(n),o(n),s(t.id,t.batch_number,n,t.cart_index)},b=()=>{const n=Math.min(parseFloat(e)+1,r);u(n),o(n),s(t.id,t.batch_number,n,t.cart_index)};return a.jsxs("div",{className:"quantity",children:[a.jsx(l,{onClick:y,disabled:e<=i,children:a.jsx(v,{})}),a.jsx("input",{type:"number",className:"input-box",step:"0.01",value:x,min:i,max:r,onChange:h,onFocus:n=>n.target.select()}),a.jsx(l,{onClick:b,disabled:e>=r,children:a.jsx(f,{})})]})};export{P as default};
