import{c as x,r as d,S as u,j as e}from"./app-J0J4XT7Q.js";import{u as f}from"./SalesContext-B1jwJFA9.js";import{p as g}from"./product-placeholder-DL4NWfZp.js";import{u as C}from"./currencyFormatter-DOmpFJHz.js";import{C as h}from"./Card-B0NA572v.js";import{C as y}from"./CardMedia-DX-RIBFW.js";import{C as j}from"./CardContent-B-mRR1qP.js";import{T as _}from"./Typography-CWhVrPo-.js";import{B as b}from"./Box-m8-AwHvJ.js";import"./app-CxSMgHDY.js";import"./numeral-3Q0ULTA-.js";import"./clsx-B-dksMZM.js";import"./memoTheme-BNdxtxoW.js";import"./index-BPJnJB5S.js";import"./Paper-CavyNtF_.js";import"./useTheme-CwSUTWIJ.js";import"./index-i2kla6Uj.js";import"./extendSxProp-CT-SW93I.js";import"./emotion-react.browser.esm-BQ7e9N_g.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";function K({product:t}){const n=x().props.return_sale,m=C(),{name:o,price:i,image_url:a,quantity:I}=t,{addToCart:p,cartState:s}=f(),{setCartItemModalOpen:l,setSelectedCartItem:c}=d.useContext(u);return e.jsxs(h,{onClick:()=>{if(n?t.quantity=-1:t.quantity=1,t.discount_percentage&&Number(t.discount_percentage)!==0){const r=t.price*t.discount_percentage/100;t.discount=r}if(p(t,t.quantity),t.product_type==="reload"){const r=s.length>0?s.length:0;t.cart_index=r}c(t),l(!0)},sx:{height:"100%",position:"relative"},elevation:1,children:[e.jsx(y,{sx:{height:{xs:70,sm:100}},image:a||g,title:o}),e.jsx(j,{sx:{paddingBottom:"10px!important",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:e.jsx(_,{variant:"p",component:"div",className:"text-center",sx:{lineHeight:"1.2rem"},children:o})}),i>0&&e.jsx(b,{sx:{position:"absolute",top:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.6)",color:"white",padding:"2px 8px",borderRadius:"4px"},children:m(i,!1)})]})}export{K as default};
