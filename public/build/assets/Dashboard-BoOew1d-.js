import{j as r,d as y,c as S,r as o,H as O,L as i,b as R}from"./app-J0J4XT7Q.js";import{A as F,L as p,P as V,S as U,a as W}from"./AuthenticatedLayout-CV1_pG3T.js";import{C as G,b as H}from"./card-DJWe5r0D.js";import{P as T}from"./Payments-C74n1UUC.js";import{c as $}from"./createSvgIcon-DH-b1jMs.js";import{C as J}from"./CloudUpload-C4LIlrVf.js";import{n as l}from"./numeral-3Q0ULTA-.js";import K from"./Summaries-BF1v_BE8.js";import{SalesChart as Q}from"./SalesChart-DQqZATqc.js";import{OverViewCards as X}from"./OverViewCards-B3BPkocH.js";import"./en-gb-DyMZ2GQn.js";import{L as Z,A as rr,D as er}from"./AdapterDayjs-Bfn7RJTy.js";import{G as e}from"./Grid-ByMND7DF.js";import{A as d}from"./Alert-Cg00dAYx.js";import{L as sr}from"./List-CA8Dfjeu.js";import{L as a}from"./ListItem-BIq8gZj4.js";import{L as h}from"./ListItemButton-ChmwJdM0.js";import{L as n}from"./ListItemText-DbBV3q1i.js";import{D as x}from"./Divider-CCoppV9R.js";import{B as tr}from"./Box-m8-AwHvJ.js";import{I as f}from"./IconButton-CxCxJBhO.js";import{c as or}from"./createLucideIcon-CMxlCnxM.js";import"./app-CxSMgHDY.js";import"./Receipt-CfgyI0Rt.js";import"./index-BOh9Hbob.js";import"./index-B49xHE6m.js";import"./infoshop-CyNm3vmK.js";import"./Toolbar-Bt5N0HeY.js";import"./clsx-B-dksMZM.js";import"./memoTheme-BNdxtxoW.js";import"./index-BPJnJB5S.js";import"./listItemIconClasses-CtCHhvqe.js";import"./ListContext-BTargF9Z.js";import"./Collapse-CMBVb5gg.js";import"./useTheme-CwSUTWIJ.js";import"./Portal-CVCC_lll.js";import"./TransitionGroupContext-CUmnvxwJ.js";import"./index-FrVc2Q_M.js";import"./useForkRef-npmdbavI.js";import"./useTimeout-ijO9WPjY.js";import"./CssBaseline-BPSh959V.js";import"./index-i2kla6Uj.js";import"./extendSxProp-CT-SW93I.js";import"./emotion-react.browser.esm-BQ7e9N_g.js";import"./AppBar-BfAA5r0X.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./Paper-CavyNtF_.js";import"./Typography-CWhVrPo-.js";import"./Tooltip-CQRdrBam.js";import"./index-DKn53RoO.js";import"./useSlot-DIICVg-0.js";import"./useControlled-CIU3udus.js";import"./useId-bmtMxKKl.js";import"./Grow-Bu5k9bsZ.js";import"./Popper-DhnmPy4J.js";import"./ownerDocument-DW-IO8s5.js";import"./useSlotProps-BwjvMvhT.js";import"./ButtonBase-ah7Qb79a.js";import"./Drawer-BUnkvJCp.js";import"./mergeSlotProps-D_PRovB-.js";import"./debounce-Be36O1Ab.js";import"./ownerWindow-HkKU3E4x.js";import"./Modal-r73ew4B0.js";import"./utils-NikRBbYi.js";import"./Card-B0NA572v.js";import"./TextField-B8xGzqYR.js";import"./useFormControl-bsSDraOa.js";import"./isMuiElement-glFYcxXS.js";import"./TableContainer-BQBwiHL3.js";import"./TableRow-KnMNmPIP.js";import"./TableCell-CmCRc8xm.js";import"./TableHead-khwUWmBh.js";import"./useThemeProps-ChzuPIZh.js";import"./chart-ADzRlU9d.js";import"./with-selector-CjvH0b5N.js";import"./with-selector-DrGGaYor.js";import"./select-DyvmpJZN.js";import"./floating-ui.dom-CpMS8hwT.js";import"./tslib.es6-BUas5LQb.js";import"./chevron-down-CG2MU_w-.js";import"./currencyFormatter-DOmpFJHz.js";import"./index-BCKQ-IUm.js";import"./index-COpDpgvE.js";import"./InputAdornment-8bA6TaeC.js";import"./Button-Bhgpz3NQ.js";import"./CircularProgress-Bcsy1Pin.js";import"./DialogActions-3_XUqu2a.js";import"./Chip-rj_j5-pw.js";import"./DialogContent-BvzB3xZG.js";import"./Close-0jcZMw1s.js";import"./listItemTextClasses-BS0z-cUj.js";import"./dividerClasses-C03W2_nD.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 12a9 3 0 0 0 5 2.69",key:"1ui2ym"}],["path",{d:"M21 9.3V5",key:"6k6cib"}],["path",{d:"M3 5v14a9 3 0 0 0 6.47 2.88",key:"i62tjy"}],["path",{d:"M12 12v4h4",key:"1bxaet"}],["path",{d:"M13 20a5 5 0 0 0 9-3 4.5 4.5 0 0 0-4.5-4.5c-1.33 0-2.54.54-3.41 1.41L12 16",key:"1f4ei9"}]],ar=or("database-backup",ir),nr=$(r.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}));function D({name:s,label:_,value:c,onChange:g}){return r.jsx(Z,{dateAdapter:rr,adapterLocale:"en-gb",children:r.jsx(er,{name:s,label:_,className:"w-full",format:"DD/MM/YYYY",value:c?y(c):null,onChange:t=>g(t)})})}function He({data:s,logo:_,version:c,store_name:g}){const t=S().props.auth.user,I=S().props.modules,[u,C]=o.useState(y().format("YYYY-MM-DD")),[j,b]=o.useState(y().format("YYYY-MM-DD")),[w,L]=o.useState(0),[v,A]=o.useState(0),[M,z]=o.useState(0),[Y,E]=o.useState(0),k=async()=>{try{const m=await R.post("/dashboard/summary",{start_date:u,end_date:j}),{cash_in:P,total_sales:q,expenses:B,inventory_purchase:N}=m.data.summary;L(P),A(q),z(B),E(N)}catch(m){console.error("Error fetching summary:",m)}};return o.useEffect(()=>{k()},[]),o.useEffect(()=>{k()},[u,j]),r.jsxs(F,{header:r.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Dashboard"}),children:[r.jsx(O,{title:"Dashboard"}),(t.user_role=="admin"||t.user_role=="super-admin")&&r.jsxs(e,{size:12,spacing:{xs:.5,sm:1},flexDirection:"row",container:!0,sx:{mb:2},children:[parseFloat(s.lowStock)!=0&&r.jsx(e,{size:{xs:12,sm:3},children:r.jsx(i,{href:"/products?status=alert&per_page="+s.lowStock,children:r.jsxs(d,{severity:"warning",children:[r.jsx("strong",{children:s.lowStock})," Alert Products"]})})}),parseFloat(s.outOfStock)!=0&&r.jsx(e,{size:{xs:12,sm:3},children:r.jsx(i,{href:"/products?status=out_of_stock&per_page="+s.outOfStock,children:r.jsxs(d,{severity:"error",children:[r.jsx("strong",{children:s.outOfStock})," Out of Stocks"]})})}),parseFloat(s.pending_cheque_count)!=0&&r.jsx(e,{size:{xs:12,sm:3},children:r.jsx(i,{href:"/cheques?status=pending&per_page="+s.pending_cheque_count,children:r.jsxs(d,{severity:"primary",children:[r.jsx("strong",{children:s.pending_cheque_count})," Pending Cheque/s"]})})}),parseFloat(s.cheque_alert_count)!=0&&r.jsx(e,{size:{xs:12,sm:3},children:r.jsx(i,{href:`/cheques?status=alert&per_page=${s.cheque_alert_count}`,children:r.jsxs(d,{severity:"error",children:[r.jsx("strong",{children:s.cheque_alert_count})," Alert Cheque/s"]})})})]}),(t.user_role=="admin"||t.user_role=="super-admin")&&r.jsx(X,{}),r.jsxs(e,{container:!0,size:{xs:12,sm:8,md:4},sx:{mt:"3rem",paddingBottom:4},spacing:2,children:[(t.user_role=="admin"||t.user_role=="super-admin")&&r.jsx(e,{size:{xs:12,sm:8,md:4},children:r.jsx(G,{className:"pt-0 w-full",children:r.jsxs(H,{className:"px-2 pt-4 sm:px-6 sm:pt-6",children:[r.jsxs(e,{container:!0,display:"flex",spacing:2,width:"100%",children:[r.jsx(e,{size:6,children:r.jsx(D,{name:"start_date",label:"Start Date",value:u,onChange:C})}),r.jsx(e,{size:6,children:r.jsx(D,{name:"end_date",label:"End Date",value:j,onChange:b})})]}),r.jsxs(sr,{children:[r.jsx(i,{href:"/reports/sales",children:r.jsx(a,{secondaryAction:l(v).format("0,0.00"),children:r.jsxs(h,{children:[r.jsx(p,{children:r.jsx(V,{})}),r.jsx(n,{primary:"Sales"})]})})}),r.jsx(x,{}),r.jsx(i,{href:"/reports/dailycash",children:r.jsx(a,{secondaryAction:l(w).format("0,0.00"),children:r.jsxs(h,{children:[r.jsx(p,{children:r.jsx(T,{})}),r.jsx(n,{primary:"Cash"})]})})}),I?.includes("Inventory")&&r.jsxs(o.Fragment,{children:[r.jsx(x,{}),r.jsx(i,{href:"#",children:r.jsx(a,{secondaryAction:l(Y).format("0,0.00"),children:r.jsxs(h,{children:[r.jsx(p,{children:r.jsx(U,{})}),r.jsx(n,{primary:"Inventory Purchase"})]})})})]}),r.jsx(x,{}),r.jsx(i,{href:"/expenses",children:r.jsx(a,{secondaryAction:l(M).format("0,0.00"),children:r.jsxs(h,{children:[r.jsx(p,{children:r.jsx(W,{})}),r.jsx(n,{primary:"Expenses"})]})})}),r.jsx(x,{}),r.jsx(i,{href:"/reports/summary-report",children:r.jsx(a,{children:r.jsx(n,{sx:{textAlign:"center",color:"#1976d2",textDecoration:"underline"},primary:"VIEW SUMMARY"})})})]})]})})}),r.jsx(e,{size:{xs:12,sm:8,md:8},children:r.jsx(Q,{})}),(t.user_role=="admin"||t.user_role=="super-admin")&&r.jsx(K,{})]}),r.jsx(tr,{sx:{justifyContent:"center",alignItems:"center",position:"fixed",backgroundColor:"#c9c9c9",bottom:"2px",right:"6px",padding:"10px",paddingRight:2},children:r.jsxs(e,{container:!0,spacing:1,alignItems:"center",children:[r.jsx(e,{children:r.jsx("a",{href:"/clear-cache",title:"Refresh cache",children:r.jsx(f,{children:r.jsx(nr,{})})})}),r.jsx(e,{children:r.jsx("a",{href:"/backup-now",title:"Backup now",target:"_blank",children:r.jsx(f,{children:r.jsx(ar,{})})})}),r.jsx(e,{children:r.jsx(f,{onClick:()=>{prompt("Enter password:")==="infomax2025"?window.location.href="/update":alert("Wrong password!")},children:r.jsx(J,{})})}),r.jsxs(e,{children:["VERSION ",c]})]})})]})}export{He as default};
